parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"wsls":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(){t(this,e)}return n(e,[{key:"state",get:function(){return this._state},set:function(t){var e=this._state;this._state=t,this.onStateChanged(e,this.state)}}]),e}();exports.default=r;
},{}],"J1Wv":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=a();return function(){var r,n=l(t);if(e){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return i(this,r)}}function i(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?f(e):r}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var y=s(require("../core/State")),p=function(t){o(u,y.default);var r=c(u);function u(t,n){var o;!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e(this,u),(o=r.call(this))._key=t,o}return n(u,[{key:"key",get:function(){return this._key}},{key:"currentState",get:function(){return this._state}}]),u}();exports.default=p;
},{"../core/State":"wsls"}],"c9H7":[function(require,module,exports) {
"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function r(t){var n=this;e(this,r),this._config=t,this._xhr=new XMLHttpRequest,this._xhr.open("GET",t.url,!0),this._xhr.withCredentials=t.withCredentials,this._xhr.responseType="arraybuffer",t.headers&&Object.keys(t.headers).forEach(function(e){n._xhr.setRequestHeader(e,t.headers[e])}),this._xhr.onload=this.onload.bind(this),this._xhr.onerror=this.onerror.bind(this)}return t(r,[{key:"send",value:function(){var e=this;return this._xhr.send(),new Promise(function(r,t){e._resolve=r,e._reject=t})}},{key:"onerror",value:function(e){console.error("url:".concat(this._config.url," returns code:").concat(e)),this._reject(e)}},{key:"onload",value:function(){if(200!==this._xhr.status)return this.onerror(this._xhr.status),void this._reject(this._xhr.status);this._resolve(this._xhr.response)}}]),r}();exports.default=n;
},{}],"gK32":[function(require,module,exports) {
"use strict";function e(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function o(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var n;Object.defineProperty(exports,"__esModule",{value:!0}),exports.AudioNodeType=void 0,function(e){e[e.GainNode=0]="GainNode",e[e.AudioWorkletNode=1]="AudioWorkletNode",e[e.AnalyserNode=2]="AnalyserNode"}(n=exports.AudioNodeType||(exports.AudioNodeType={}));var r=function(){function o(t){e(this,o),this._context=t}return t(o,[{key:"create",value:function(e){switch(e){case n.GainNode:return this._context.createGain();case n.AnalyserNode:return this._context.createAnalyser();case n.AudioWorkletNode:return new AudioWorkletNode(this._context,arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}}}]),o}();exports.default=r;
},{}],"OgGH":[function(require,module,exports) {
"use strict";function V(V,A){if(!(V instanceof A))throw new TypeError("Cannot call a class as a function")}function A(V,A){for(var e=0;e<A.length;e++){var t=A[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(V,t.key,t)}}function e(V,e,t){return e&&A(V.prototype,e),t&&A(V,t),V}var t=this&&this.__createBinding||(Object.create?function(V,A,e,t){void 0===t&&(t=e),Object.defineProperty(V,t,{enumerable:!0,get:function(){return A[e]}})}:function(V,A,e,t){void 0===t&&(t=e),V[t]=A[e]}),n=this&&this.__setModuleDefault||(Object.create?function(V,A){Object.defineProperty(V,"default",{enumerable:!0,value:A})}:function(V,A){V.default=A}),o=this&&this.__importStar||function(V){if(V&&V.__esModule)return V;var A={};if(null!=V)for(var e in V)"default"!==e&&Object.hasOwnProperty.call(V,e)&&t(A,V,e);return n(A,V),A};Object.defineProperty(exports,"__esModule",{value:!0});var i=o(require("./NodeFactory")),r=function(){function A(){V(this,A)}return e(A,null,[{key:"log",value:function(V){var A=document.createElement("div");A.innerHTML=V,document.body.appendChild(A)}},{key:"init",value:function(){if(!A._isInitialized)return A.createContext(),A._nodeFactory=new i.default(this._context),A.appendNode(i.AudioNodeType.GainNode),A.unlock(),document.addEventListener("mousedown",A.unlock,!0),document.addEventListener("touchend",A.unlock,!0),A._isInitialized=!0,A.context}},{key:"unlock",value:function(){if("running"!=A.context.state){var V=new Audio;V.src="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAAEAAABVgANTU1NTU1Q0NDQ0NDUFBQUFBQXl5eXl5ea2tra2tra3l5eXl5eYaGhoaGhpSUlJSUlKGhoaGhoaGvr6+vr6+8vLy8vLzKysrKysrX19fX19fX5eXl5eXl8vLy8vLy////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQCgAAAAAAAAAVYCADpmgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYxAAAAANIAAAAAExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVV/+MYxDsAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVV/+MYxHYAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVV/+MYxLEAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVV/+MYxMQAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVV/+MYxMQAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVV/+MYxMQAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVV/+MYxMQAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVV/+MYxMQAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVV/+MYxMQAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVV/+MYxMQAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVV/+MYxMQAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVV/+MYxMQAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxMQAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxMQAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxMQAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",V.play();var e=A.context.createBufferSource();e.buffer=A.context.createBuffer(1,1,22050),e.connect(A.context.destination),e.start(0,0,0),A.log("unlock play"),document.removeEventListener("mousedown",A.unlock,!0),document.removeEventListener("touchend",A.unlock,!0)}}},{key:"mute",value:function(V){A.masterGain.gain.value=V?0:1}},{key:"appendNode",value:function(V){for(var e,t,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];if(t=(e=A._nodeFactory).create.apply(e,[V].concat(o)),0==this._nodes.length)this._nodes.push(t),this._masterGain=t,t.connect(A.context.destination);else{var r=this._nodes[this._nodes.length-1];r.disconnect(),r.connect(t),this._nodes.push(t),t.connect(A.context.destination)}return t}},{key:"createContext",value:function(){if(A.context)return A.context;try{return"undefined"!=typeof AudioContext?A._context=new AudioContext:void 0!==window.webkitAudioContext&&(A._context=new window.webkitAudioContext),A.context}catch(V){return A.context}}},{key:"masterGain",get:function(){return this._masterGain}},{key:"loadedFileCount",get:function(){return A._loadedFileCount}},{key:"context",get:function(){if(A._context)return A._context}},{key:"useWebAudio",get:function(){return!0}},{key:"volume",set:function(V){}}]),A}();exports.default=r,r.totalFiles=0,r._isInitialized=!1,r._loadedFileCount=0,r._nodes=[];
},{"./NodeFactory":"gK32"}],"fqiM":[function(require,module,exports) {
"use strict";function i(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function t(i,t){for(var e=0;e<t.length;e++){var s=t[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function e(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}Object.defineProperty(exports,"__esModule",{value:!0});var s=function(){function t(){i(this,t),this._delta=0,this._sum=0,this._target=0,this._repeat=-1,this._count=0,this._isTimeout=!1,this._isInterval=!1,this._interval=0,this._isInitialized=!1,this._shouldStop=!1,this._elapsedTick=0,this._listenerKey=window.heartBeat.registerListener(this.onTick.bind(this)),this._createTime=(new Date).getTime(),this.setVisiblityAndHidden()}return e(t,[{key:"setVisiblityAndHidden",value:function(){void 0!==document.hidden?(this._visibility="visibilitychange",this._hidden="hidden"):void 0!==document.msHidden?(this._visibility="msvisibilitychange",this._hidden="msHidden"):void 0!==document.mozHidden?(this._visibility="mozvisibilitychange",this._hidden="mozHidden"):void 0!==document.webkitHidden&&(this._visibility="webkitvisibilitychange",this._hidden="webkitHidden")}},{key:"timeout",value:function(i){var t=this;if(!this._isInitialized)return this._isInitialized=!0,this._target=i,this._isTimeout=!0,new Promise(function(i){t._resolveForTimeout=i})}},{key:"handleVisibilityChange",value:function(){if(this.isVisible){var i=(new Date).getTime()-this._createTime;this._elapsedTick=Math.floor(i/this._interval)}else this._createTime=(new Date).getTime()}},{key:"interval",value:function(i,t){var e=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=arguments.length>3?arguments[3]:void 0;if(!this._isInitialized)return this._interval=t,this._delta=t,this._target=this._delta,this._isInterval=!0,this._callback=i,this._repeat=s,this._onExpired=n,this._isInitialized=!0,new Promise(function(i){e._resolveForTimeout=i})}},{key:"onTick",value:function(i){if(!this._shouldStop)if(this._sum+=i,this._isTimeout)this._sum>=this._target&&(this.stop(),this._resolveForTimeout(),this._resolveForTimeout=null);else if(this._isInterval){var t=!0;if(0!==this._elapsedTick&&this._onExpired){var e,s=this._count;this._count+=this._elapsedTick,e=-1===this._repeat?this._elapsedTick:this._count>=this._repeat?this._repeat:this._elapsedTick,this._onExpired(s+1,e),this._count>=this._repeat&&(this.stop(),this._resolveForTimeout(),this._resolveForTimeout=null,t=!1),this._elapsedTick=0}t&&this._sum>=this._target&&(this._target+=this._delta,this._count++,this._callback(this._count),-1!==this._repeat&&this._count===this._repeat&&(this.stop(),this._resolveForTimeout(),this._resolveForTimeout=null))}}},{key:"stop",value:function(){this._shouldStop=!0,this._visibilityListener&&(this._visibilityListener=null),window.heartBeat.removeListener(this._listenerKey)}},{key:"isVisible",get:function(){return!document[this._hidden]}}]),t}();exports.default=s;
},{}],"iHC5":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=c();return function(){var o,i=l(e);if(t){var n=l(this).constructor;o=Reflect.construct(i,arguments,n)}else o=i.apply(this,arguments);return a(this,o)}}function a(t,o){return!o||"object"!==e(o)&&"function"!=typeof o?s(t):o}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var f,h=d(require("./Sound")),y=d(require("../core/XHR")),p=d(require("../core/AudioCore")),v=d(require("../core/RAFTimer")),_=require("../AudioBox");!function(e){e[e.MAIN=0]="MAIN",e[e.SPARE=1]="SPARE"}(f||(f={}));var m=function(e){n(r,h.default);var o=u(r);function r(e,i){var n,u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t(this,r),(n=o.call(this,e,i,u))._offset=0,n._tryCleanFailed=!1,n._loop=!1,n._volume=1,n._activeNodeType=f.MAIN,n.load(i),n.createGainNode(),n}return i(r,[{key:"createGainNode",value:function(){this._gainNode=p.default.context.createGain(),this._gainNode.connect(p.default.masterGain)}},{key:"onLoadError",value:function(){this.state=_.AudioState.error}},{key:"onDecodeSuccess",value:function(e){this._audioBuffer=e,this.state=_.AudioState.ready,this.state=_.AudioState.idle}},{key:"onDecodeError",value:function(e){this.state=_.AudioState.error}},{key:"log",value:function(e){var t=document.createElement("div");t.innerHTML=e,document.body.appendChild(t)}},{key:"toggleActiveNode",value:function(){this._activeNodeType==f.MAIN?this._activeNodeType=f.SPARE:this._activeNodeType=f.MAIN}},{key:"decode",value:function(e){this.state=_.AudioState.decoding,p.default.context.decodeAudioData(e,this.onDecodeSuccess.bind(this),this.onDecodeError.bind(this))}},{key:"createSourceNodeAndConnect",value:function(){var e;(e=p.default.context.createBufferSource()).buffer=this._audioBuffer,e.connect(this._gainNode),this._activeNodeType==f.MAIN?this._mainNode=e:this._loopNode=e}},{key:"deleteSourceNode",value:function(){var e=this.currentActiveNode;e.stop(0),e.disconnect(),e.onended=null,this.tryClearBuffer(e),e=null}},{key:"tryClearBuffer",value:function(e){if(this.isRunningOnMac)try{e.buffer=p.default.context.createBuffer(1,1,22050)}catch(t){this._tryCleanFailed=!0}else try{e.buffer=null}catch(t){this._tryCleanFailed=!0}}},{key:"start",value:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.createSourceNodeAndConnect(),this._prevPlayTime=p.default.context.currentTime,this.state=_.AudioState.playing,this._loop?(this._loopTimer||(this._loopTimer=new v.default,this._loopTimer.timeout(1e3*(this.duration-this._offset-.05)).then(function(){t.onLoopPoint()})),this.currentActiveNode.onended=this.onEnded.bind(this)):(this.state==_.AudioState.playing&&this._endTimer&&(this._endTimer.stop(),this._endTimer=null),this._endTimer=new v.default,this._endTimer.timeout(1e3*this.duration).then(function(){t.onEnded()})),this._offset>this.duration&&(this._offset=0),void 0!==e&&this.setVolume(e),this.currentActiveNode.start(0,this._offset)}},{key:"onEnded",value:function(){this._loop||(this.state=_.AudioState.idle)}},{key:"removeLoopTimer",value:function(){this._loopTimer&&(this._loopTimer.stop(),this._loopTimer=null)}},{key:"onLoopPoint",value:function(){this.log("on loop point"),this._loopTimer=null,this._offset=0,this.toggleActiveNode(),this.start()}},{key:"load",value:function(e){var t=this;this.state=_.AudioState.loading,new y.default({url:e}).send().then(function(e){t.decode(e)}).catch(function(){})}},{key:"play",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(this.currentActiveNode&&this.deleteSourceNode(),this._loop=o,this.state==_.AudioState.loading||this.state==_.AudioState.decoding)?new Promise(function(t){e._resolveForReady=t}).then(function(){e.start(t,o)}):this.start(t,o)}},{key:"pause",value:function(){if(this.state===_.AudioState.playing){this.removeLoopTimer();var e=(p.default.context.currentTime-this._prevPlayTime)%this.duration;this._offset+=e,this.deleteSourceNode(),this.state=_.AudioState.suspended}else console.warn("Try to pause the sound but the sound is not playing.")}},{key:"resume",value:function(){this.play()}},{key:"stop",value:function(){this.removeLoopTimer(),this.deleteSourceNode(),this.state=_.AudioState.idle}},{key:"setVolume",value:function(e){this._volume=e,this._gainNode.gain.setValueAtTime(e,p.default.context.currentTime)}},{key:"mute",value:function(e){this._gainNode.gain.value=e?0:this._volume}},{key:"onStateChanged",value:function(e,t){switch(this.onStateChange&&this.onStateChange(this,e,t),t){case _.AudioState.idle:this._resolveForReady&&(this._resolveForReady(),this._resolveForReady=null)}}},{key:"volume",get:function(){return this._volume}},{key:"duration",get:function(){return this._audioBuffer.duration}},{key:"currentActiveNode",get:function(){return this._activeNodeType==f.MAIN?this._mainNode:this._loopNode}},{key:"isRunningOnMac",get:function(){return window.navigator.userAgent.indexOf("Mac OS X")>-1}}]),r}();exports.default=m;
},{"./Sound":"J1Wv","../core/XHR":"c9H7","../core/AudioCore":"OgGH","../core/RAFTimer":"fqiM","../AudioBox":"rXrf"}],"TLPq":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=l();return function(){var n,o=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return i(this,n)}}function i(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?f(e):n}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var y=p(require("./Sound")),s=function(t){r(u,y.default);var n=c(u);function u(){return e(this,u),n.apply(this,arguments)}return o(u,[{key:"load",value:function(t){throw new Error("Method not implemented.")}},{key:"play",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},{key:"pause",value:function(){}},{key:"resume",value:function(){}},{key:"stop",value:function(){}},{key:"setVolume",value:function(t){}},{key:"mute",value:function(t){}},{key:"onStateChanged",value:function(t,e){}}]),u}();exports.default=s;
},{"./Sound":"J1Wv"}],"Bp5n":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(i){t(this,e),this._lock=!0,this._elapsedTime=0,this._listenerKey=window.heartBeat.registerListener(this.onTick.bind(this)),this._target=i}return i(e,[{key:"onTick",value:function(t){if(!this._lock){if(this._startTime||(this._startTime=0),this._elapsedTime+=t,console.log(),this._elapsedTime>=this._duration)return this.updateTarget(),this.stop(),this._callback&&this._callback(),void window.heartBeat.removeListener(this._listenerKey);this.updateTarget()}}},{key:"updateTarget",value:function(){var t=this,e={};Object.keys(this._to).forEach(function(i){var n=t._to[i]>t._originalValues[i],a=t._to[i]-t._originalValues[i],o=t._originalValues[i],r=t.linearNone(t._elapsedTime,o,a,t._duration);(n&&r>=t._to[i]||!n&&r<=t._to[i])&&(r=t._to[i]),t._target[i]=r,e[i]=r}),this._onUpdate&&this._onUpdate(e)}},{key:"to",value:function(t,e){return this._to=t,this._duration=e,this}},{key:"onUpdate",value:function(t){return this._onUpdate=t,this}},{key:"onComplete",value:function(t){return this._callback=t,this}},{key:"start",value:function(){var t=this;this._lock=!1,this._originalValues={},Object.keys(this._to).forEach(function(e){t._originalValues[e]=t._target[e]})}},{key:"stop",value:function(){this._lock=!0}},{key:"linearNone",value:function(t,e,i,n){return i*t/n+e}}]),e}();exports.default=n;
},{}],"ixe0":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TrackType=void 0,function(e){e[e.Music=0]="Music",e[e.SoundEffect=1]="SoundEffect"}(e=exports.TrackType||(exports.TrackType={}));
},{}],"MiZH":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=c();return function(){var n,o=l(t);if(e){var u=l(this).constructor;n=Reflect.construct(o,arguments,u)}else n=o.apply(this,arguments);return r(this,n)}}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?s(e):n}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var f=d(require("../sound/WebAudioSound")),h=d(require("../sound/Html5AudioSound")),y=d(require("../core/State")),p=d(require("../core/Tween")),_=d(require("../core/RAFTimer")),g=require("../AudioBox"),v=require("../enums"),k=function(t){u(i,y.default);var n=a(i);function i(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.TrackType.Music,u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e(this,i),(t=n.call(this))._soundMap=new Map,t._isWebAudio=!0,t._autoLoad=!0,t._isDucking=!1,t._volume=1,t._loadedSoundCount=0,t._currentPlayingCount=0,t._trackType=o,t._isWebAudio=u,t._autoLoad=a,t}return o(i,[{key:"onStateChanged",value:function(t,e){this.onStateChange&&this.onStateChange(this,t,e)}},{key:"hasSound",value:function(t){return this._soundMap.has(t)}},{key:"addSound",value:function(t,e){var n;return this.state=g.AudioState.loading,"string"!=typeof t||this.hasSound(t)?this.hasSound(n.key)||(n=t,this._soundMap.set(n.key,n)):(n=this._isWebAudio?new f.default(t,e,this._autoLoad):new h.default(t,e,this._autoLoad),this._soundMap.set(t,n)),1==this._soundMap.size&&(this._defaultSound=n),n.onStateChange=this.onSoundStateChange.bind(this),n}},{key:"onSoundStateChange",value:function(t,e,n){switch(n){case g.AudioState.idle:e==g.AudioState.playing&&this.currentPlayingCount--;break;case g.AudioState.playing:this.currentPlayingCount++;break;case g.AudioState.ready:console.log("sound ready"),this.loadedSoundCount++}}},{key:"load",value:function(){}},{key:"playAllSounds",value:function(){this.state!=g.AudioState.playing&&this._trackType!=v.TrackType.SoundEffect&&(this.volume=0,this.allSounds(function(t){t.play(0,!0)}))}},{key:"play",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._soundMap.has(t)&&this._soundMap.get(t).play(n,e)}},{key:"pause",value:function(t){this._soundMap.has(t)&&this._soundMap.get(t).pause()}},{key:"stop",value:function(t){if(t){var e=this._soundMap.get(t);e.currentState==g.AudioState.playing&&e.stop()}else this.allSounds(function(t){t.stop()})}},{key:"resume",value:function(t){this._soundMap.has(t)&&this._soundMap.get(t).resume()}},{key:"mute",value:function(t){this._soundMap.forEach(function(e){e.mute(t)})}},{key:"ducking",value:function(t){var e,n=this;this._isDucking&&t.duration||(t.duration&&(this._isDucking=!0,this._currentDuckingConfig=t),this._duckingTween&&(this._duckingTween.stop(),this._duckingTween=null),this._originalVolume=this.volume,e=t.force||0==this._originalVolume?t.value:this._originalVolume*t.value,this.fade(e,t.attack).then(function(){if(n._duckingTween=null,n._isDucking&&t.duration){var e=new _.default;e.timeout(t.duration).then(function(){}),e=null}}))}},{key:"releaseDucking",value:function(){var t=this,e=this._currentDuckingConfig;this._isDucking&&e&&this.fade(this._originalVolume,e.release).then(function(){t._isDucking=!1,t._duckingTween=null})}},{key:"fade",value:function(t,e){var n=this;return new Promise(function(o){n._duckingTween=new p.default(n).to({volume:t},e).onComplete(function(){n._duckingTween=null,o()}),n._duckingTween.start()})}},{key:"log",value:function(t){var e=document.createElement("div");e.innerHTML=t,document.body.appendChild(e)}},{key:"allSounds",value:function(t){this._soundMap.forEach(function(e){t&&t(e)})}},{key:"loadedSoundCount",get:function(){return this._loadedSoundCount},set:function(t){this._loadedSoundCount=t,this.loadedSoundCount==this._soundMap.size&&(this.state=g.AudioState.ready,this.state=g.AudioState.idle)}},{key:"currentPlayingCount",get:function(){return this._currentPlayingCount},set:function(t){0==t?this.state=g.AudioState.idle:t>0&&(this.state=g.AudioState.playing),this._currentPlayingCount=t}},{key:"volume",set:function(t){this._volume=t,this._soundMap.forEach(function(e){e.setVolume(t)})},get:function(){return this._volume}}]),i}();exports.default=k;
},{"../sound/WebAudioSound":"iHC5","../sound/Html5AudioSound":"TLPq","../core/State":"wsls","../core/Tween":"Bp5n","../core/RAFTimer":"fqiM","../AudioBox":"rXrf","../enums":"ixe0"}],"uVFV":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(){e(this,t),this._listener=new Map,this.INTERVAL=5,this.nPrevTime=0}return n(t,[{key:"init",value:function(){requestAnimationFrame(this.step.bind(this))}},{key:"registerListener",value:function(e){var t=this.uuid();return this._listener.set(t,e),t}},{key:"removeListener",value:function(e){this._listener.delete(e)}},{key:"makeTimeslot",value:function(e){for(;e>0;)this.onTimeIncrease(Math.min(e,this.INTERVAL)),e-=this.INTERVAL}},{key:"step",value:function(e){this.makeTimeslot(1*(e-this.nPrevTime)),this.nPrevTime=e,requestAnimationFrame(this.step.bind(this))}},{key:"onTimeIncrease",value:function(e){this._listener.forEach(function(t){t(e)})}},{key:"uuid",value:function(){var e=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})}}]),t}();exports.default=i;
},{}],"JBnp":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=a();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}function i(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?f(e):n}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var p=l(require("./State")),y=function(t){o(u,p.default);var n=c(u);function u(){return e(this,u),n.apply(this,arguments)}return r(u,[{key:"secondState",get:function(){return this._secondState},set:function(t){var e=this._secondState;this._secondState=t,this.onSecondStateChanged(e,this.secondState)}}]),u}();exports.default=y;
},{"./State":"wsls"}],"rXrf":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=s();return function(){var n,o=f(t);if(e){var a=f(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return c(this,n)}}function c(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AudioState=void 0;var l,h=d(require("./track/Track")),k=require("./enums"),y=d(require("./core/AudioCore")),_=d(require("./core/HeartBeat")),p=d(require("./core/DuelState"));!function(t){t.loading="loading",t.decoding="decoding",t.ready="ready",t.idle="idle",t.playing="playing",t.suspended="suspended",t.error="error"}(l=exports.AudioState||(exports.AudioState={}));var T=function(t){a(r,p.default);var n=i(r);function r(t){var o;e(this,r),(o=n.call(this))._tracks=[],o._soundToTrack=new Map,o._indexToTrack=new Map,o._musicTracks=[],o._soundTracks=[],o._currentMusicStateTracks=[],o._trackReadyCount=0,y.default.useWebAudio&&y.default.init(),o._config=t,o._stateConfig=t.musicState,o._trackConfig=t.track,o.setState(l.loading),o.createTracks();var a=new _.default;return a.init(),window.heartBeat=a,o}return o(r,[{key:"setState",value:function(t){var e=this._state;this._state=t,this.onStateChanged(e,this.state)}},{key:"onStateChanged",value:function(t,e){switch(e){case l.ready:this.onReady&&this.onReady()}}},{key:"onSecondStateChanged",value:function(t,e){this.log("from:".concat(t," to:").concat(e))}},{key:"log",value:function(t){var e=document.createElement("div");e.innerHTML=t,document.body.appendChild(e)}},{key:"addSoundToTrack",value:function(t,e,n){n&&!this._soundToTrack.has(e)&&(this._soundToTrack.set(e,t),t.addSound(e,n.src))}},{key:"onTrackStateChange",value:function(t,e,n){switch(console.log(t.name,n),n){case l.ready:this.trackReadyCount++}}},{key:"createTracks",value:function(){var t=this;if(this._hasTrackConfig)Object.keys(this._config.track).forEach(function(e){if(!t._indexToTrack.has(e)){var n=t._config.track[e],o=new h.default;o.name=e,o.onStateChange=t.onTrackStateChange.bind(t),n.sounds.forEach(function(e){var n=t._config.sound[e];t.addSoundToTrack(o,e,n)}),t._indexToTrack.set(e,o),n.type==k.TrackType.SoundEffect?t._soundTracks.push(o):t._musicTracks.push(o)}});else{var e=new h.default;Object.keys(this._config.sound).forEach(function(n){var o=t._config.sound[n];t.addSoundToTrack(e,n,o)}),this._indexToTrack.set("0",e)}}},{key:"loadSound",value:function(t,e){}},{key:"mute",value:function(t){y.default.useWebAudio&&y.default.mute(t)}},{key:"muteMusic",value:function(t){this._musicTracks.forEach(function(e){e.mute(t)})}},{key:"muteSound",value:function(t){this._soundTracks.forEach(function(e){e.mute(t)})}},{key:"play",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._soundToTrack.has(t)&&this._soundToTrack.get(t).play(t,e)}},{key:"start",value:function(t){this._musicTracks.forEach(function(t){console.log("play",t.name),t.playAllSounds()})}},{key:"pause",value:function(t){this._soundToTrack.has(t)&&this._soundToTrack.get(t).pause(t)}},{key:"stop",value:function(){this._indexToTrack.get("1").stop()}},{key:"resume",value:function(t){this._soundToTrack.has(t)&&this._soundToTrack.get(t).resume(t)}},{key:"seek",value:function(){}},{key:"shutdown",value:function(){}},{key:"ducking",value:function(t){this._musicTracks[0].ducking(t)}},{key:"transitionToState",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.musicState,a=this._stateConfig.state[o],r=this._stateConfig.state[t],i=Object.assign({},this._stateConfig.fadeOut),c={};this.isLowerMusicState(t)&&!n||(r?(this._currentMusicStateTracks=[],r.ducking.forEach(function(t){t.tracks.forEach(function(n){e._trackConfig[n];c[n]=!0;var o=e._indexToTrack.get(n+"");e._currentMusicStateTracks.push(o),o.ducking(t)})}),i.tracks.forEach(function(t){if(!(c[t]||r.exception&&-1!==r.exception.indexOf(t))){e._trackConfig[t];if(r.forceMute)e._indexToTrack.get(t+"").volume=0;else a&&(void 0!==a.release&&(i.attack=a.release),void 0!==a.value&&(i.value=a.value)),e._indexToTrack.get(t+"").ducking(i)}}),this.secondState=t):console.error("[AUDIO_BOX] unavaliable music state:".concat(t)))}},{key:"appendAudioNode",value:function(t){for(var e,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return(e=y.default).appendNode.apply(e,[t].concat(o))}},{key:"isLowerMusicState",value:function(t){return!!this.musicState&&this._stateConfig.sequence.indexOf(t)<=this._stateConfig.sequence.indexOf(this.musicState)}},{key:"trackReadyCount",get:function(){return this._trackReadyCount},set:function(t){this._trackReadyCount=t,this.trackReadyCount==this._indexToTrack.size&&this.setState(l.ready)}},{key:"_hasTrackConfig",get:function(){return this._config.track&&Object.keys(this._config.track).length>0}},{key:"track",get:function(){return this._tracks}},{key:"state",get:function(){return this._state}},{key:"musicState",get:function(){return this._secondState}}]),r}();exports.default=T;
},{"./track/Track":"MiZH","./enums":"ixe0","./core/AudioCore":"OgGH","./core/HeartBeat":"uVFV","./core/DuelState":"JBnp"}],"EVxB":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../src/AudioBox")),c=require("../src/enums"),n=5502,u="http://localhost:".concat(n,"/demo/assets/");u="./assets/";var a=new t.default({sound:{BGM:{src:"".concat(u,"BGM.mp3")},BGM_01:{src:"".concat(u,"BGM_01.mp3")},BGM_02:{src:"".concat(u,"BGM_02.mp3")},BGM_03:{src:"".concat(u,"BGM_03.mp3")},BGM_04:{src:"".concat(u,"BGM_04.mp3")},BGM_05:{src:"".concat(u,"BGM_05.mp3")},SE:{src:"".concat(u,"SE.mp3")}},track:{1:{type:c.TrackType.Music,sounds:["BGM"]},2:{type:c.TrackType.Music,sounds:["BGM_01"]},3:{type:c.TrackType.Music,sounds:["BGM_02"]},4:{type:c.TrackType.Music,sounds:["BGM_03"]},5:{type:c.TrackType.Music,sounds:["BGM_04"]},6:{type:c.TrackType.Music,sounds:["BGM_05"]},7:{type:c.TrackType.SoundEffect,sounds:["SE"]}},musicState:{sequence:["idle","start","ohh","wow","woow","extreme"],fadeOut:{tracks:[1,2,3,4,5,6],attack:1e3,value:0},state:{idle:{release:1e3,value:0,ducking:[{tracks:[1],attack:20,value:1}]},start:{release:1e4,value:0,ducking:[{tracks:[1,2],attack:20,value:1}]},ohh:{release:1e4,value:0,ducking:[{force:!0,tracks:[1,2,3],attack:350,value:1}]},wow:{release:5e3,value:0,ducking:[{tracks:[1,2,4],attack:200,value:1}]},woow:{release:5e3,value:0,ducking:[{tracks:[1,2,5],attack:100,release:200,value:1}]},extreme:{release:200,value:0,forceMute:!0,ducking:[{tracks:[1,2,6],attack:1600,release:200,value:1}]}}}});a.onReady=function(){document.getElementById("mask").style.display="none",a.start(),document.getElementById("play").addEventListener("click",function(){a.play("BGM",!0)}),document.getElementById("pause").addEventListener("click",function(){a.pause("BGM")}),document.getElementById("resume").addEventListener("click",function(){console.log(a.state)}),document.getElementById("stop").addEventListener("click",function(){a.stop()}),document.getElementById("se").addEventListener("click",function(){a.resume("SE")}),document.getElementById("mute-music").addEventListener("click",function(){a.muteMusic(!0)}),document.getElementById("unmute-music").addEventListener("click",function(){a.muteMusic(!1)}),document.getElementById("mute-sound").addEventListener("click",function(){a.muteSound(!0)}),document.getElementById("unmute-sound").addEventListener("click",function(){a.muteSound(!1)}),document.getElementById("mute-all").addEventListener("click",function(){a.mute(!0)}),document.getElementById("unmute-all").addEventListener("click",function(){a.mute(!1)}),document.getElementById("ducking-bgm").addEventListener("click",function(){a.ducking({tracks:[1,2,4],attack:5e3,value:0})});var e=document.getElementById("states");document.getElementById("music-state-switch").addEventListener("click",function(){var t=e.value;a.transitionToState(t)}),document.getElementById("music-state-switch-force").addEventListener("click",function(){var t=e.value;a.transitionToState(t,!0)})};
},{"../src/AudioBox":"rXrf","../src/enums":"ixe0"}]},{},["EVxB"], null)
//# sourceMappingURL=app.a0ef0621.js.map